<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Learning Journal</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="app">
      <header class="top">
        <div class="brand">Learning Journal</div>
        <div class="actions">
          <button id="newBtn">+ New Session</button>
          <button id="exportBtn">Export CSV</button>
          <button id="importBtn">Import CSV</button>
          <button id="clearDataBtn">Clear Data</button>
          <input id="csvFile" type="file" accept=".csv" style="display:none">
        </div>
      </header>

      <section class="kpis">
        <div class="kpi"><div class="kpi-label">Total Sessions</div><div id="totalSessions">0</div></div>
        <div class="kpi"><div class="kpi-label">Total Time</div><div id="totalTime">0 min</div></div>
        <div class="kpi"><div class="kpi-label">Sessions / Category</div><div id="categoryCounts">â€”</div></div>
        <div class="kpi"><div class="kpi-label">Streak</div><div id="streak">0</div></div>
      </section>

      <main class="main">
        <aside class="left">
          <div class="controls">
            <input id="search" placeholder="Search topic, notes, category" />
            <select id="filterCategory"><option value="">All Categories</option></select>
            <select id="filterType"><option value="">All Types</option><option>New</option><option>Practice</option><option>Revision</option><option>Rewatch</option><option>DeepDive</option></select>
          </div>

          <div class="table-wrap panel">
            <table id="sessionsTable">
              <thead>
                    <tr>
                      <th>#</th><th>Date</th><th>Time</th><th>Topic</th><th>Duration</th><th>Category</th><th>Type</th><th>Languages</th><th>Modes</th><th>Tools</th><th>Status</th><th>Insights</th><th>Confusions</th><th>Notes</th><th>Mental</th><th>Physical</th><th>Effort</th><th>Actions</th>
                    </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </aside>

        <!-- modal form (popup) -->
        <div id="modal" class="modal" aria-hidden="true">
          <div class="modal-content">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h3 style="margin:0">Session Form</h3>
              <button id="closeModal" class="actions" aria-label="Close">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
            </div>
            <form id="sessionForm">
              <input type="hidden" id="id">
              <div class="row">
                <label>Session Number</label>
                <input id="sessionNumber" type="number" readonly>
              </div>
              <div class="row">
                <label>Date</label>
                <input id="date" type="date" required>
              </div>
              <div class="row two">
                <div>
                  <label>Start Time</label>
                  <input id="startTime" type="time" required>
                </div>
                <div>
                  <label>End Time</label>
                  <input id="endTime" type="time" required>
                </div>
              </div>
              <div class="row">
                <label>Duration (minutes)</label>
                <input id="durationMinutes" type="number" placeholder="Leave empty to compute">
              </div>
              <div class="row">
                <label>Topic Title</label>
                <input id="topicTitle" required>
              </div>
              <div class="row">
                <label>Category</label>
                <div style="display:flex;gap:8px;align-items:center">
                  <select id="categorySelect"></select>
                  <input id="newCategoryInput" placeholder="Add category">
                  <button type="button" id="addCategoryBtn">Add</button>
                </div>
              </div>
              <div class="row">
                <label>Session Type</label>
                <select id="sessionType"><option>New</option><option>Practice</option><option>Revision</option><option>Rewatch</option><option>DeepDive</option></select>
              </div>
              <div class="row two">
                <div>
                  <label>Difficulty</label>
                  <select id="difficultyLevel"><option>Easy</option><option>Medium</option><option>Hard</option></select>
                </div>
                <div>
                  <label>Focus</label>
                  <select id="focusLevel"><option>Low</option><option>Medium</option><option>High</option></select>
                </div>
              </div>
              <div class="row two">
                <div>
                  <label>Understanding</label>
                  <select id="understandingLevel"><option>Poor</option><option>Fair</option><option>Good</option><option>Solid</option></select>
                </div>
                <div>
                  <label>Completion Status</label>
                  <select id="completionStatus"><option>Partial</option><option>Full</option></select>
                </div>
              </div>
              <div class="row">
                <label>Repeat Needed</label>
                <select id="repeatNeeded"><option value="true">Yes</option><option value="false">No</option></select>
              </div>

              <fieldset>
                <legend>Resource</legend>
                <div class="row">
                  <label>Type</label>
                  <select id="resourceType"><option>Video</option><option>Book</option><option>Article</option><option>PDF</option><option>Course</option><option>Notes</option></select>
                </div>
                <div class="row">
                  <label>Title</label>
                  <input id="resourceTitle">
                </div>
                <div class="row two">
                  <div><label>Platform</label><input id="resourcePlatform" placeholder="YouTube, Coursera, Blog"></div>
                  <div><label>Link</label><input id="resourceLink" placeholder="optional"></div>
                </div>
              </fieldset>

              <fieldset>
                <legend>Languages / Frameworks</legend>
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
                  <select id="languagesSelect" multiple style="flex:1;height:80px"></select>
                  <div style="display:flex;flex-direction:column;gap:6px">
                    <input id="newLanguageInput" placeholder="Add language or framework">
                    <button type="button" id="addLanguageBtn">Add</button>
                  </div>
                </div>
              </fieldset>

              <fieldset>
                <legend>Learning Modes</legend>
                <div class="modes">
                  <label><input type="checkbox" value="Watch" class="mode"> Watch</label>
                  <label><input type="checkbox" value="Read" class="mode"> Read</label>
                  <label><input type="checkbox" value="Write" class="mode"> Write</label>
                  <label><input type="checkbox" value="Code" class="mode"> Code</label>
                  <label><input type="checkbox" value="Type" class="mode"> Type</label>
                  <label><input type="checkbox" value="Listen" class="mode"> Listen</label>
                </div>
                <div class="row">
                  <label>Primary Mode</label>
                  <select id="primaryMode"><option>Watch</option><option>Read</option><option>Write</option><option>Code</option><option>Type</option><option>Listen</option></select>
                </div>
              </fieldset>

              <div class="row">
                <label>Tools Used (comma)</label>
                <input id="toolsUsed" placeholder="Browser, Notebook, Laptop">
              </div>
              <div class="row">
                <label>Concept Type</label>
                <select id="conceptType"><option>Theory</option><option>Applied</option><option>Mixed</option></select>
              </div>

              <div class="row">
                <label>Key Insights</label>
                <textarea id="keyInsights"></textarea>
              </div>
              <div class="row">
                <label>Confusions</label>
                <textarea id="confusions"></textarea>
              </div>
              <div class="row">
                <label>Personal Notes</label>
                <textarea id="personalNotes"></textarea>
              </div>

              <div class="row two">
                <div>
                  <label>Mental State</label>
                  <select id="mentalState"><option>Calm</option><option>Tired</option><option>Motivated</option><option>Distracted</option></select>
                </div>
                <div>
                  <label>Physical State</label>
                  <select id="physicalState"><option>Normal</option><option>Injured</option><option>Sick</option><option>LowEnergy</option></select>
                </div>
              </div>
              <div class="row">
                <label>Mental Effort (1-5)</label>
                <input id="mentalEffort" type="number" min="1" max="5">
              </div>

              <div class="row actions">
                <button type="submit" id="saveBtn">Save</button>
                <button type="button" id="clearForm">Clear</button>
              </div>
            </form>
          </div>
        </div>
      </main>

      <footer class="footer">All data stored locally in your browser. No backend.</footer>
    </div>

    <script src="app.js"></script>
  </body>
</html>
