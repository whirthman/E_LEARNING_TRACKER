<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Learning Journal</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="app">
      <header class="top">
        <div class="header-left">
          <button class="hamburger" id="hamburger" aria-label="Toggle menu">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </button>
          <div class="brand">üìö Learning Journal</div>
        </div>
        <nav class="nav-menu" id="navMenu">
          <div class="nav-group">
            <button id="newBtn" class="nav-btn primary">+ New</button>
            <button id="exportBtn" class="nav-btn">Export</button>
            <button id="importBtn" class="nav-btn">Import</button>
            <button id="clearDataBtn" class="nav-btn danger">Clear</button>
            <input id="csvFile" type="file" accept=".csv" style="display:none">
          </div>
        </nav>
      </header>

      <section class="kpis">
        <div class="kpi"><div class="kpi-label">Total Sessions</div><div id="totalSessions">0</div></div>
        <div class="kpi"><div class="kpi-label">Total Time</div><div id="totalTime">0 min</div></div>
        <div class="kpi"><div class="kpi-label">Sessions / Category</div><div id="categoryCounts">‚Äî</div></div>
        <div class="kpi"><div class="kpi-label">Streak</div><div id="streak">0</div></div>
      </section>

      <main class="main">
        <aside class="left">
          <div class="controls">
            <input id="search" placeholder="üîç Search topic, notes, category" />
            <div class="filter-group">
              <div class="category-filter">
                <button class="filter-toggle" id="categoryToggle">üìÇ Categories <span class="toggle-icon">‚ñº</span></button>
                <div class="category-dropdown" id="categoryDropdown">
                  <select id="filterCategory"><option value="">All Categories</option></select>
                  <button class="expand-btn" id="expandCategories">Show More</button>
                </div>
              </div>
              <select id="filterType" class="filter-select"><option value="">üìã All Types</option><option>New</option><option>Practice</option><option>Revision</option><option>Rewatch</option><option>DeepDive</option></select>
            </div>
          </div>

          <div class="table-wrap panel">
            <table id="sessionsTable">
              <thead>
                    <tr>
                      <th>#</th><th>Date</th><th>Time</th><th>Topic</th><th>Duration</th><th>Category</th><th>Type</th><th>Actions</th>
                    </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </aside>

        <!-- modal form (popup) -->
        <div id="modal" class="modal" aria-hidden="true">
          <div class="modal-content">
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
              <h3 style="margin:0">Session Form</h3>
              <button id="closeModal" class="actions" aria-label="Close">
                <svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
            </div>
            <form id="sessionForm">
              <input type="hidden" id="id">
              <div class="row">
                <label>Session Number</label>
                <input id="sessionNumber" type="number" readonly>
              </div>
              <div class="row">
                <label>Date</label>
                <input id="date" type="date" required>
              </div>
              <div class="row two">
                <div>
                  <label>Start Time</label>
                  <input id="startTime" type="time" required>
                </div>
                <div>
                  <label>End Time</label>
                  <input id="endTime" type="time" required>
                </div>
              </div>
              <div class="row">
                <label>Duration (minutes)</label>
                <input id="durationMinutes" type="number" placeholder="Leave empty to compute">
              </div>
              <div class="row">
                <label>Topic Title</label>
                <input id="topicTitle" required>
              </div>
              <div class="row">
                <label>Category</label>
                <div style="display:flex;gap:8px;align-items:center">
                  <select id="categorySelect"></select>
                  <input id="newCategoryInput" placeholder="Add category">
                  <button type="button" id="addCategoryBtn">Add</button>
                </div>
              </div>
              <div class="row">
                <label>Session Type</label>
                <select id="sessionType"><option>New</option><option>Practice</option><option>Revision</option><option>Rewatch</option><option>DeepDive</option></select>
              </div>
              <div class="row two">
                <div>
                  <label>Difficulty</label>
                  <select id="difficultyLevel"><option>Easy</option><option>Medium</option><option>Hard</option></select>
                </div>
                <div>
                  <label>Focus</label>
                  <select id="focusLevel"><option>Low</option><option>Medium</option><option>High</option></select>
                </div>
              </div>
              <div class="row two">
                <div>
                  <label>Understanding</label>
                  <select id="understandingLevel"><option>Poor</option><option>Fair</option><option>Good</option><option>Solid</option></select>
                </div>
                <div>
                  <label>Completion Status</label>
                  <select id="completionStatus"><option>Partial</option><option>Full</option></select>
                </div>
              </div>
              <div class="row">
                <label>Repeat Needed</label>
                <select id="repeatNeeded"><option value="true">Yes</option><option value="false">No</option></select>
              </div>

              <fieldset>
                <legend>Resource</legend>
                <div class="row">
                  <label>Type</label>
                  <select id="resourceType"><option>Video</option><option>Book</option><option>Article</option><option>PDF</option><option>Course</option><option>Notes</option></select>
                </div>
                <div class="row">
                  <label>Title</label>
                  <input id="resourceTitle">
                </div>
                <div class="row two">
                  <div><label>Platform</label><input id="resourcePlatform" placeholder="YouTube, Coursera, Blog"></div>
                  <div><label>Link</label><input id="resourceLink" placeholder="optional"></div>
                </div>
              </fieldset>

              <fieldset>
                <legend>Languages / Frameworks</legend>
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
                  <select id="languagesSelect" multiple style="flex:1;height:80px"></select>
                  <div style="display:flex;flex-direction:column;gap:6px">
                    <input id="newLanguageInput" placeholder="Add language or framework">
                    <button type="button" id="addLanguageBtn">Add</button>
                  </div>
                </div>
              </fieldset>

              <fieldset>
                <legend>Learning Modes</legend>
                <div class="modes">
                  <label><input type="checkbox" value="Watch" class="mode"> Watch</label>
                  <label><input type="checkbox" value="Read" class="mode"> Read</label>
                  <label><input type="checkbox" value="Write" class="mode"> Write</label>
                  <label><input type="checkbox" value="Code" class="mode"> Code</label>
                  <label><input type="checkbox" value="Type" class="mode"> Type</label>
                  <label><input type="checkbox" value="Listen" class="mode"> Listen</label>
                </div>
                <div class="row">
                  <label>Primary Mode</label>
                  <select id="primaryMode"><option>Watch</option><option>Read</option><option>Write</option><option>Code</option><option>Type</option><option>Listen</option></select>
                </div>
              </fieldset>

              <div class="row">
                <label>Tools Used (comma)</label>
                <input id="toolsUsed" placeholder="Browser, Notebook, Laptop">
              </div>
              <div class="row">
                <label>Concept Type</label>
                <select id="conceptType"><option>Theory</option><option>Applied</option><option>Mixed</option></select>
              </div>

              <div class="row">
                <label>Key Insights</label>
                <textarea id="keyInsights"></textarea>
              </div>
              <div class="row">
                <label>Confusions</label>
                <textarea id="confusions"></textarea>
              </div>
              <div class="row">
                <label>Personal Notes</label>
                <textarea id="personalNotes"></textarea>
              </div>

              <div class="row two">
                <div>
                  <label>Mental State</label>
                  <select id="mentalState"><option>Calm</option><option>Tired</option><option>Motivated</option><option>Distracted</option></select>
                </div>
                <div>
                  <label>Physical State</label>
                  <select id="physicalState"><option>Normal</option><option>Injured</option><option>Sick</option><option>LowEnergy</option></select>
                </div>
              </div>
              <div class="row">
                <label>Mental Effort (1-5)</label>
                <input id="mentalEffort" type="number" min="1" max="5">
              </div>

              <div class="row actions">
                <button type="submit" id="saveBtn">Save</button>
                <button type="button" id="clearForm">Clear</button>
              </div>
            </form>
          </div>
        </div>
      </main>

      <!-- Session Details Modal -->
      <div id="detailsModal" class="modal" aria-hidden="true">
        <div class="modal-content details-content">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px">
            <h3 style="margin:0">üìã Session #<span id="detailsSessionNumber">0</span></h3>
            <button id="closeDetailsModal" class="actions" aria-label="Close">
              <svg viewBox="0 0 24 24" width="18" height="18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
          </div>
          <div class="details-grid">
            <div class="detail-item">
              <span class="detail-label">üìÖ Date</span>
              <span id="detailsDate">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üïê Time</span>
              <span id="detailsTime">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">‚è±Ô∏è Duration</span>
              <span id="detailsDuration">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üìÇ Category</span>
              <span id="detailsCategory">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üéØ Type</span>
              <span id="detailsType">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">‚úÖ Status</span>
              <span id="detailsStatus">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üìä Difficulty</span>
              <span id="detailsDifficulty">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üéØ Focus</span>
              <span id="detailsFocus">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üí° Understanding</span>
              <span id="detailsUnderstanding">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üß† Mental State</span>
              <span id="detailsMentalState">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">üí™ Physical</span>
              <span id="detailsPhysicalState">‚Äî</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">‚ö° Effort</span>
              <span id="detailsEffort">‚Äî</span>
            </div>
          </div>

          <div class="detail-section">
            <h4>üìñ Topic & Resource</h4>
            <div class="detail-item-full">
              <span class="detail-label">Topic Title</span>
              <span id="detailsTopic">‚Äî</span>
            </div>
            <div class="detail-item-full">
              <span class="detail-label">Resource</span>
              <span id="detailsResource">‚Äî</span>
            </div>
          </div>

          <div class="detail-section">
            <h4>üõ†Ô∏è Learning Details</h4>
            <div class="detail-item-full">
              <span class="detail-label">Languages / Frameworks</span>
              <span id="detailsLanguages">‚Äî</span>
            </div>
            <div class="detail-item-full">
              <span class="detail-label">Learning Modes</span>
              <span id="detailsModes">‚Äî</span>
            </div>
            <div class="detail-item-full">
              <span class="detail-label">Tools Used</span>
              <span id="detailsTools">‚Äî</span>
            </div>
          </div>

          <div class="detail-section">
            <h4>üìù Notes & Observations</h4>
            <div class="detail-item-full">
              <span class="detail-label">üí° Key Insights</span>
              <span id="detailsInsights" class="detail-textarea">‚Äî</span>
            </div>
            <div class="detail-item-full">
              <span class="detail-label">‚ùì Confusions</span>
              <span id="detailsConfusions" class="detail-textarea">‚Äî</span>
            </div>
            <div class="detail-item-full">
              <span class="detail-label">üìå Personal Notes</span>
              <span id="detailsNotes" class="detail-textarea">‚Äî</span>
            </div>
          </div>

          <div class="detail-actions">
            <button class="btn-primary" onclick="editFromDetails()"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 21h4l11-11a2.8 2.8 0 0 0 0-4L19 2a2.8 2.8 0 0 0-4 0L4 13v8z" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>Edit Session</button>
            <button class="btn-secondary" onclick="closeDetailsModalBtn()"><svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/></svg>Close</button>
          </div>
        </div>
      </div>

      <footer class="footer">All data stored locally in your browser. No backend.</footer>
    </div>

    <script src="app.js"></script>
  </body>
</html>
